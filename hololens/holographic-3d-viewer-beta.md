---
title: Использование средства 3D-просмотра (бета-версии) в HoloLens (1-го поколения)
description: В этой статье описаны типы файлов и функции, которые поддерживает средство 3D-просмотра (бета-версии) в HoloLens (1-го поколения), а также использование приложения и устранение неполадок в его работе.
ms.prod: hololens
ms.sitesec: library
author: Teresa-Motiv
ms.author: v-tea
ms.topic: article
ms.localizationpriority: high
ms.date: 10/30/2019
ms.reviewer: scooley
audience: ITPro
manager: jarrettr
appliesto:
- HoloLens (1st gen)
ms.openlocfilehash: 00e99d3f67e9e4371da12612b9b01c3ce58e71bd
ms.sourcegitcommit: 05537014d27d9cb60d5485ce93654371d914d5e3
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/10/2021
ms.locfileid: "124428337"
---
# <a name="using-3d-viewer-beta-on-hololens-1st-gen"></a>Использование средства 3D-просмотра (бета-версии) в HoloLens (1-го поколения)

Это средство позволяет просматривать трехмерные модели в HoloLens (1-го поколения). Открывать и просматривать *поддерживаемые* FBX-файлы можно c помощью Microsoft Edge, OneDrive и других приложений.

>[!NOTE]
>Эта статья относится к приложению **Средство 3D-просмотра (бета-версия)** иммерсивной среды Unity, поддерживающему FBX-файлы и доступному только в HoloLens (1-го поколения). Предварительно установленное приложение **Средство 3D-просмотра** в HoloLens 2 поддерживает открытие пользовательских трехмерных моделей с расширением .glb в доме в смешанной реальности. (Дополнительные сведения см. в разделе [Обзор требований к ресурсам](/windows/mixed-reality/creating-3d-models-for-use-in-the-windows-mixed-reality-home#asset-requirements-overview).)

>[!IMPORTANT]
>Средство 3D-просмотра (бета-версия) может быть доступно в магазине Microsoft Store для HoloLens (1-го поколения), но оно больше не будет находиться в активной разработке и поддерживаться.

Если вам не удается открыть трехмерную модель в средстве 3D-просмотра (бета-версии) или некоторые ее функции не поддерживаются, причины см. в разделе [Характеристики поддерживаемого содержимого](#supported-content-specifications) ниже.

Сведения о создании и оптимизации трехмерных моделей для использования с бета-версией средства 3D-просмотра см. ниже в [этом разделе](#optimizing-3d-models-for-3d-viewer-beta).

Трехмерную модель можно открыть в HoloLens двумя способами. Дополнительные сведения см. в разделе [Просмотр FBX-файлов в HoloLens](#viewing-fbx-files-on-hololens) ниже.

Если вы изучили эти разделы и возникли проблемы с работой, см. раздел [Устранение неполадок](#troubleshooting) ниже.

## <a name="supported-content-specifications"></a>Характеристики поддерживаемого содержимого

### <a name="file-format"></a>Формат файла

- FBX
- Самый последний выпуск FBX — 2015.1.0

### <a name="file-size"></a>Размер файла

- Минимальный — 5 КБ
- Максимальный — 500 МБ

### <a name="geometry"></a>Geometry

- Только модели с многоугольниками, без дробления поверхности или неоднородного рационального B-сплайна
- Правосторонняя система координат
- Сдвиг в матрицах преобразования не поддерживается

### <a name="textures"></a>Текстуры

- Текстурные карты должны быть внедрены в FBX-файл.
- Поддерживаемые форматы изображений:
  - JPEG и PNG;
  - BMP (24-битная модель RGB, естественный цвет);
  - TGA (24-битная модель RGB и 32-битный цвет RGBQ, естественный цвет).
- Максимальное разрешение текстур — 2048x2048.
- Максимум одна диффузная карта, одна карта нормалей и одна кубическая карта отражения для одной сетки.
- При значении ниже 50 % альфа-канал в диффузных текстурах приводит к исключению пикселей.

### <a name="animation"></a>Анимация

- Анимация масштабирования, поворота и преобразования для отдельных объектов
- Скелетная анимация (оснастка) со скиннингом:
  - максимум 4 фактора влияния на одну вершину.

### <a name="materials"></a>Материалы

- Поддерживаются материалы для моделей Ламберта и Фонга с настраиваемыми параметрами.
- Поддерживаемые свойства материалов для модели Ламберта:
  - главная текстура (тест RGB + альфа);
  - рассеянный цвет (RGB);
  - внешний цвет (RGB).
- Поддерживаемые свойства материалов для модели Фонга:
  - главная текстура (тест RGB + альфа);
  - рассеянный цвет (RGB);
  - внешний цвет (RGB);
  - отраженный цвет (RGB);
  - блеск;
  - отражающая способность.
- Пользовательские материалы не поддерживаются.
- Максимум один материал на сетку.
- Максимум один материал на уровень.
- Максимум 8 материалов на файл.

### <a name="file-and-model-limitations"></a>Ограничения для файлов и моделей

Размер файлов, а также количество моделей, вершин и сеток, которые можно открывать одновременно в средстве 3D-просмотра (бета-версии) строго ограничены:

- максимальный размер файла на модель — 500 МБ;
- в общей сложности 600 000 вершин во всех открытых моделях;
- в общей сложности 1600 сеток во всех открытых моделях;
- максимум 40 одновременно открытых моделей.

## <a name="optimizing-3d-models-for-3d-viewer-beta"></a>Оптимизация трехмерных моделей для средства 3D-просмотра (бета-версии)

### <a name="special-considerations"></a>Специальные рекомендации

- Избегайте использования черных материалов или черных областей в текстурных картах. Голограммы создаются на основе света, поэтому HoloLens отрисовывает черный цвет (свет отсутствует) прозрачным.
- Перед экспортом из средства создания в FBX-файл убедитесь, что все геометрические фигуры отображаются и не заблокированы, а также что слои с геометрическими фигурами не отключены и не являются шаблонными. Видимость не учитывается.
- Не допускайте существенных смещений при преобразовании между узлами (например, 100 000 единиц). Это повлечет искажение модели при перемещении, масштабировании или повороте.

### <a name="performance-optimization"></a>Оптимизация производительности

Чтобы получать оптимальные результаты, учитывайте производительность при разработке содержимого, а также проверяйте его в бета-версии приложения "Средство 3D-просмотра" в HoloLens. Средство 3D-просмотра (бета-версия) отрисовывает содержимое в реальном времени, производительность зависит от возможностей аппаратного обеспечения HoloLens.  

В трехмерной модели есть множество переменных, которые влияют на производительность. Если вершин более 150 000 или сеток более 400, во время загрузки средство 3D-просмотра (бета-версии) покажет предупреждение. Анимации могут влиять на производительность других открытых моделей. Кроме того, существуют строгие ограничения в отношении общего количества моделей, вершин и сеток, которые можно открывать одновременно в средстве 3D-просмотра (бета-версии) (см. раздел [Ограничения для файлов и моделей](#file-and-model-limitations)).  

Если сложность трехмерной модели сказывается на ее работе, рассмотрите следующее:

- сокращение количества многоугольников;
- уменьшение количества костей в анимации с оснасткой;
- предотвращение самозагораживания.

Средство 3D-просмотра (бета-версия) поддерживает двустороннюю отрисовку, но по умолчанию она отключена, чтобы обеспечивать более высокую производительность. Ее можно включить с помощью кнопки **Double Sided** (Двусторонняя) на странице **подробностей**. Чтобы обеспечить оптимальную производительность, избегайте использования двусторонней визуализации в содержимом.

### <a name="validating-your-3d-model"></a>Проверка трехмерной модели

Чтобы проверить модель, откройте ее в средстве 3D-просмотра (бета-версии) в HoloLens. Нажмите кнопку **подробностей**, чтобы просмотреть характеристики модели и предупреждения о неподдерживаемом содержимом (при наличии).

### <a name="rendering-3d-models-with-true-to-life-dimensions"></a>Отрисовка трехмерных моделей с реалистичными размерами

По умолчанию средство 3D-просмотра (бета-версии) отрисовывает трехмерные модели так, чтобы их размеры и расположение было удобно воспринимать пользователю. Если необходимо отрисовать трехмерную модель с реалистичными размерами (например, при рассмотрении моделей мебели в помещении), автор содержимого может установить в метаданных файла флажок, запрещающий приложению и пользователю изменять размер.

Чтобы предотвратить масштабирование модели, добавьте в любой объект сцены логический настраиваемый атрибут с именем Microsoft_DisableScale и задайте для него значение true. Далее средство 3D-просмотра (бета-версии) будет учитывать информацию FbxSystemUnit, имеющуюся в FBX-файле. Масштаб в средстве 3D-просмотра (бета-версии) — 1 метр на единицу FBX.

## <a name="viewing-fbx-files-on-hololens"></a>Просмотр FBX-файлов в HoloLens

### <a name="open-an-fbx-file-from-microsoft-edge"></a>Открытие FBX-файла с помощью Microsoft Edge

Microsoft Edge в HoloLens позволяет открывать FBX-файлы напрямую из веб-сайтов.

1. В Microsoft Edge откройте веб-страницу с FBX-файлом, который необходимо просмотреть.
1. Выберите файл для скачивания.
1. По завершении загрузки нажмите кнопку **Открыть** в Microsoft Edge, чтобы открыть файл в средстве 3D-просмотра (бета-версии).

Скачанный файл будет доступен, и его можно будет снова открыть из папки "Загрузки" в Microsoft Edge. Чтобы сохранить трехмерную модель и обеспечить постоянный доступ, загрузите файл на компьютер и сохраните его в своей учетной записи OneDrive. После этого файл можно открывать в приложении OneDrive в HoloLens.

> [!NOTE]
> Некоторые веб-сайты с доступными для загрузки FBX-моделями предоставляют их в сжатом виде в формате ZIP. Средство 3D-просмотра (бета-версия) не позволяет напрямую открывать ZIP-файлы. Извлеките FBX-файл с помощью компьютера и сохраните его в учетной записи OneDrive. После этого файл можно открывать в приложении OneDrive в HoloLens.

### <a name="open-an-fbx-file-from-onedrive"></a>Открытие FBX-файла с помощью OneDrive

OneDrive в HoloLens позволяет открывать FBX-файлы напрямую с помощью приложения OneDrive. Убедитесь, что установка OneDrive в HoloLens выполнена с помощью приложения Microsoft Store и FBX-файл загружен в OneDrive на компьютер.

FBX-файлы, загруженные в OneDrive, можно открывать в HoloLens с помощью средства 3D-просмотра (бета-версии) двумя способами.

- Запустите OneDrive в HoloLens и выберите FBX-файл, который необходимо открыть в средстве 3D-просмотра (бета-версии).
- Запустите средство, коснитесь, чтобы отобразилась панель инструментов, а затем выберите **Открыть файл**. Запустится OneDrive, что позволит выбрать FBX-файл.

## <a name="troubleshooting"></a>Устранение неполадок

### <a name="i-see-a-warning-when-i-open-a-3d-model"></a>При открытии трехмерной модели отображается предупреждение

Если вы попытаетесь открыть трехмерную модель с функциями, которые не поддерживает средство 3D-просмотра (бета-версии), а также если модель слишком сложная и это может повлиять на производительность, отобразится предупреждение. Средство 3D-просмотра (бета-версии) загрузит трехмерную модель, но производительность и качество графического изображения могут быть низкими.

Дополнительные сведения см. в разделах [Характеристики поддерживаемого содержимого](#supported-content-specifications) и [Оптимизация трехмерных моделей для средства 3D-просмотра (бета-версии)](#optimizing-3d-models-for-3d-viewer-beta).

### <a name="i-see-a-warning-and-the-3d-model-doesnt-load"></a>Отображается предупреждение, трехмерная модель не загружается

Если средству 3D-просмотра (бета-версии) не удается загрузить трехмерную модель из-за ее сложности или размера файла, а также если FBX-файл поврежден или недопустим, появится предупреждение. Если общее количество моделей, вершин или сеток, которые можно открыть одновременно, достигнет ограничения, также отобразится сообщение об ошибке.  

Дополнительные сведения см. в разделе [Характеристики поддерживаемого содержимого](#supported-content-specifications) и [Ограничения для файлов и моделей](#file-and-model-limitations).

### <a name="my-3d-model-loads-but-does-not-appear-as-expected"></a>Трехмерная модель загружается, но не отображается надлежащим образом

В таком случае в средстве 3D-просмотра коснитесь, чтобы открылась панель инструментов, затем выберите **Details** (Подробности). Будут выделены характеристики файла, которые не поддерживает средство 3D-просмотра (бета-версии).

Самая распространенная причина — отсутствие текстур, вероятно, из-за того, что они не внедрены в FBX-файл. В таком случае модель будет отображаться белой. Эту проблему можно решить при создании. Для этого экспортируйте данные из средства создания в FBX-файл при включенном параметре внедрения текстур.

Дополнительные сведения см. в разделах [Характеристики поддерживаемого содержимого](#supported-content-specifications) и [Оптимизация трехмерных моделей для средства 3D-просмотра (бета-версии)](#optimizing-3d-models-for-3d-viewer-beta).

### <a name="i-experience-performance-drops-while-viewing-my-3d-model"></a>При просмотре трехмерной модели снижается производительность

На производительность при загрузке и просмотре трехмерной модели может влиять сложность модели, количество одновременно открытых моделей и количество моделей с активной анимацией.

Дополнительные сведения см. в разделах [Оптимизация трехмерных моделей для средства 3D-просмотра (бета-версии)](#optimizing-3d-models-for-3d-viewer-beta) и [Ограничения для файлов и моделей](#file-and-model-limitations).

### <a name="when-i-open-an-fbx-file-on-hololens-it-doesnt-open-in-3d-viewer-beta"></a>При открытии FBX-файла в HoloLens он не открывается в средстве 3D-просмотра (бета-версии)

При установке средство 3D-просмотра (бета-версия) автоматически связывается с файловым расширением .fbx.

Если при открытии FBX-файла отображается диалоговое окно, которое перенаправляет в Microsoft Store, это значит, что сейчас в HoloLens отсутствует приложение, связанное с файловым расширением .fbx.

Убедись, что средство 3D-просмотра (бета-версия) установлено. Если оно не установлено, загрузите его из Microsoft Store в HoloLens.

Если средство 3D-просмотра (бета-версии) уже установлено, запустите его, затем снова попытайтесь открыть файл. Если проблема не устранится, удалите и снова установите средство 3D-просмотра (бета-версии). При этом файловое расширение .fbx будет заново связано со средством 3D-просмотра (бета-версии).

Если при попытке открыть FBX-файл открывается не средство 3D-просмотра (бета-версия), а другое приложение, вероятно, оно установлено после средства и переняло привязку к файловому расширению .fbx. Если требуется связать средство 3D-просмотра (бета-версии) с файловым расширением .fbx, удалите и снова установите средство.

### <a name="the-open-file-button-in-3d-viewer-beta-doesnt-launch-an-app"></a>При нажатии кнопки Open File (Открыть файл) в средстве 3D-просмотра (бета-версии) приложение не запускается

При нажатии кнопки **Open File** (Открыть файл) откроется приложение, связанное с функцией выбора файлов в HoloLens. Если приложение OneDrive установлено, оно будет запускаться при нажатии кнопки **Open File** (Открыть файл). Но если в данный момент в HoloLens отсутствует приложение, связанное с функцией выбора файлов, вас перенаправят в Microsoft Store.

Если при нажатии кнопки **Open File** (Открыть файл) запускается приложение, но не OneDrive, вероятно, это приложение установлено после OneDrive и переняло привязку к функции выбора файлов. Если при нажатии кнопки **Open File** (Открыть файл) в средстве 3D-просмотра (бета-версии) требуется запускать приложение OneDrive, удалите и снова установите OneDrive.

Если кнопка **Open File** (Открыть файл) неактивна, возможно, достигнуто предельное количество моделей, которые можно открыть одновременно в средстве 3D-просмотра (бета-версии). Если в средстве открыто 40 моделей, потребуется закрыть некоторые из них, чтобы открывать другие модели.

## <a name="additional-resources"></a>Дополнительные ресурсы

- [Форумы поддержки](http://forums.hololens.com/categories/3d-viewer-beta) — служат в качестве архива. Этот форум больше не активен.
- [Уведомления сторонних производителей](https://www.microsoft.com/{lang-locale}/legal/products)
