---
title: Использование средства 3D-просмотра (бета-версия) в HoloLens (1-го поколения)
description: В этой статье описаны типы файлов и функции, поддерживаемые средством 3D-просмотра (бета-версия) в HoloLens (1-го поколения), а также порядок использования приложения и устранения неполадок в его работе.
ms.prod: hololens
ms.sitesec: library
author: Teresa-Motiv
ms.author: v-tea
ms.topic: article
ms.localizationpriority: high
ms.date: 10/30/2019
ms.reviewer: scooley
audience: ITPro
manager: jarrettr
appliesto:
- HoloLens (1st gen)
ms.openlocfilehash: f5481d6466459667deb99232fdd67c4491798cbe
ms.sourcegitcommit: 1b19b0eb552189d7c50617bbdf3a102d3c85ee0e
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/16/2020
ms.locfileid: "11016290"
---
# Использование средства 3D-просмотра (бета-версия) в HoloLens (1-го поколения)

Средство 3D-просмотра (бета-версия) позволяет просматривать трехмерные модели в HoloLens (1-го поколения). Открывать и просматривать *поддерживаемые* файлы .fbx можно помощью Microsoft Edge, OneDrive и других приложений.

>[!NOTE]
>Эта статья относится к приложению **Средство 3D-просмотра (бета-версия)** иммерсивной среды Unity, поддерживающему файлы .fbx и доступному только в HoloLens (1-го поколения). Предустановленное приложение **Средство 3D-просмотра** в HoloLens 2 поддерживает открытие пользовательских трехмерных моделей .glb в помещениях с дополненной реальностью (дополнительные сведения см. в [Обзор требований к объекту](https://docs.microsoft.com/windows/mixed-reality/creating-3d-models-for-use-in-the-windows-mixed-reality-home#asset-requirements-overview)).

>[!IMPORTANT]
>Хотя средство 3D-просмотра (бета-версия) может быть доступно в магазине Microsoft Store для HoloLens (1-го поколения), оно больше не будет находиться в активной разработке и поддерживаться.

Если вам не удается открыть трехмерную модель в средстве 3D-просмотра (бета-версия) или некоторые функции трехмерной модели не поддерживаются, см. [Характеристики поддерживаемого содержимого](#supported-content-specifications) ниже.

Сведения о создании и оптимизации трехмерных моделей для использования со средством 3D-просмотра (бета-версия) см. в статье [Оптимизация трехмерных моделей для средства 3D-просмотра (бета-версия)](#optimizing-3d-models-for-3d-viewer-beta).

Трехмерную модель можно открыть в HoloLens двумя способами. Дополнительные сведения см. в статье [Просмотр файлов FBX в HoloLens](#viewing-fbx-files-on-hololens).

Если у вас возникли проблемы после чтения этих разделов, см. раздел [Поиск и устранение неисправностей](#troubleshooting).

## Характеристики поддерживаемого содержимого

### Формат файла

- Формат FBX
- Максимальный выпуск FBX — 2015.1.0

### Размер файла

- Мин. 5КБ
- Макс. 500 МБ

### Геометрическая фигура

- Только модели с многоугольниками. Дробление поверхности или NURBs отсутствуют
- Правосторонняя система координат
- Наклон в матрицах преобразования не поддерживается

### Текстуры

- Текстурные карты должны быть внедрены в файл FBX
- Поддерживаемые форматы изображений
  - Изображения в формате JPEG и PNG
  - Изображения BMP (24-битный цвет RGB, естественный цвет)
  - Изображения TGA (24-битный цвет RGB и 32-битный цвет RGBY, естественный цвет)
- Максимальное разрешение текстур 2048x2048
- Макс. одна диффузная карта, одна карта нормалей и одна кубическая карта отражения для одной сетки
- При значении ниже 50% альфа-канал в диффузных текстурах способствует исключению пикселей

### Анимация

- Анимация масштабирования, поворота и преобразования для отдельных объектов
- Скелетная (подстроенная) анимация со скиннингом
  - Макс. 4 фактора влияния на одну вершину

### Материалы

- Поддерживаются материалы для модели Ламберта (Lambert) и Фонга (Phong) с настраиваемыми параметрами
- Поддерживаемые свойства материалов для модели Ламберта
  - Главная текстура (тест RGB + альфа)
  - Рассеянный цвет (RGB)
  - Внешний цвет (RGB)
- Поддерживаемые свойства материалов для модели Фонга
  - Главная текстура (тест RGB + альфа)
  - Рассеянный цвет (RGB)
  - Внешний цвет (RGB)
  - Отраженный цвет (RGB)
  - Блеск
  - Отражающая способность
- Пользовательские материалы не поддерживаются
- Не более одного материала на сетку
- Не более одного материала на уровень
- Не более 8 материалов на файл

### Ограничения для файла и модели

Существуют жесткие ограничения относительно размера файлов, количества моделей, вершин и сеток, доступных для одновременного открытия в средстве 3D-просмотра (бета-версия):

- максимальный размер файла на модель: 500 МБ;
- вершины: в общей сложности 600 000 во всех открытых моделях;
- сетки: в общей сложности 1600 во всех открытых моделях;
- макс. 40 одновременно открытых моделей.

## Оптимизация трехмерных моделей для средства 3D-просмотра (бета-версия)

### Особые примечания

- Избегайте использования черных материалов или черных областей в текстурных картах. Голограммы состоят из света, следовательно, HoloLens отображает черный цвет (отсутствие света) в качестве прозрачного.
- Перед выполнением экспорта из средства создания в файл FBX убедитесь, что все геометрические фигуры отображаются и не заблокированы, а также в том, что слои, содержащие геометрическую фигуру, не отключены и не являются шаблонными. Видимость не учитывается.
- Не допускайте больших смещений при преобразовании между узлами (например, 100 000 единиц). Это приведет к искажению модели при перемещении, масштабировании или повороте.

### Оптимизация производительности

Для получения оптимальных результатов в процессе создания и настройки содержимого учитывайте производительность, а также выполняйте проверку в приложении средства 3D-просмотра (бета-версия) в HoloLens. Средство 3D-просмотра (бета-версия) отображает содержимое в режиме реального времени, а производительность зависит от возможностей аппаратного обеспечения HoloLens.  

В 3D-модели есть множество переменных, которые влияют на производительность. При наличии более 150 000 вершин или более 400 сеток во время загрузки средства 3D-просмотра (бета-версия) отобразится сообщение с предупреждением.  Анимации могут повлиять на производительность других открытых моделей. Кроме того, существуют жесткие ограничения относительно общего количества моделей, вершин и сеток, доступных для одновременного открытия в средстве 3D-просмотра (бета-версия) (см. [Ограничения для файла и модели](#file-and-model-limitations)).  

Если сложность трехмерной модели сказывается на ее работе, постарайтесь:

- сократить количество многоугольников;
- уменьшить количество костей в подстроенной анимации;
- предотвратить самозагораживание экрана.

Средство 3D-просмотра (бета-версия) поддерживает функцию двусторонней визуализации, но она по умолчанию отключена для повышения производительности. Чтобы включить ее, нажмите кнопку **Двусторонняя** на странице **Сведения**. Для обеспечения оптимальной производительности старайтесь не использовать двустороннюю визуализацию в содержимом.

### Проверка трехмерной модели

Проверьте модель, открыв ее в средстве 3D-просмотра (бета-версия) в HoloLens. Нажмите кнопку **Сведения**, чтобы просмотреть характеристики модели и предупреждения о неподдерживаемом содержимом (при наличии).

### Отображение трехмерных моделей с фактическими размерами

По умолчанию средство 3D-просмотра (бета-версия) отображает трехмерные модели так, чтобы их размеры и расположение были удобны для восприятия пользователем. Если необходимо отобразить трехмерную модель с фактическими размерами (например, при рассмотрении моделей мебели в помещении), разработчик содержимого может установить флажок в метаданных файла, чтобы предотвратить изменение размера модели приложением и пользователем.

Чтобы предотвратить масштабирование модели, добавьте логический настраиваемый атрибут в любой объект сцены с именем Microsoft_DisableScale и задайте для него значение "истина". Далее средство 3D-просмотра (бета-версия) будет учитывать информацию FbxSystemUnit, имеющуюся в файле FBX. Шкала в средстве 3D-просмотра (бета-версия): 1 метр на единицу FBX.

## Просмотр файлов FBX в HoloLens

### Открытие файла FBX с помощью Microsoft Edge

Microsoft Edge в HoloLens позволяет открывать файлы FBX непосредственно с помощью веб-сайта.

1. В Microsoft Edge откройте веб-страницу с файлом FBX, который необходимо просмотреть.
1. Выберите файл для загрузки.
1. После завершения загрузки нажмите кнопку **Открыть** в Microsoft Edge, чтобы открыть файл в средстве 3D-просмотра (бета-версия).

Скачанный файл доступен и может быть повторно открыт с помощью папки "Загрузки" в Microsoft Edge. Чтобы сохранить трехмерную модель и обеспечить непрерывный доступ, загрузите файл на ПК и сохраните его в своей учетной записи OneDrive. Далее можно открыть файл в приложении OneDrive в HoloLens.

> [!NOTE]
> Некоторые веб-сайты с доступными для загрузки моделями FBX предоставляют их в сжатом виде в формате ZIP. Средство 3D-просмотра (бета-версия) не поддерживает непосредственное открытие ZIP-файлов. Извлеките файл FBX с помощью ПК и сохраните его в учетной записи OneDrive. Далее можно открыть файл в приложении OneDrive в HoloLens.

### Открытие файла FBX с помощью OneDrive

Приложение OneDrive в HoloLens позволяет открывать файлы FBX непосредственно с помощью OneDrive. Убедитесь, что установка OneDrive в HoloLens выполнена с помощью приложения Microsoft Store и файл FBX загружен в OneDrive на ПК.

Загруженные в OneDrive файлы FBX можно открыть в HoloLens с помощью средства 3D-просмотра (бета-версия) двумя способами.

- Запустите OneDrive в HoloLens и выберите файл FBX, который необходимо открыть в средстве 3D-просмотра (бета-версия).
- Запустите средство 3D-просмотра (бета-версия), коснитесь для отображения панели инструментов, затем выберите **Открыть файл**. Запустится OneDrive, что позволит выбрать файл FBX.

## Поиск и устранение неисправностей

### При открытии трехмерной модели отображается сообщение с предупреждением

Если выполняется открытие трехмерной модели с функциями, неподдерживаемыми средством 3D-просмотра (бета-версия), а также если чрезмерная сложность модели может повлиять на производительность, отобразится сообщение с предупреждением. Средство 3D-просмотра (бета-версия) загрузит трехмерную модель, но производительность и качество графического изображения будут снижены.

Дополнительные сведения см. в разделах [Характеристики поддерживаемого содержимого](#supported-content-specifications) и [Оптимизация трехмерных моделей для средства 3D-просмотра (бета-версия)](#optimizing-3d-models-for-3d-viewer-beta).

### Отображается сообщение с предупреждением и трехмерная модель не загружается

Сообщение об ошибке отображается, если средству 3D-просмотра (бета-версия) не удается загрузить трехмерную модель по причине ее сложности или размера файла, а также если файл FBX поврежден или является недопустимым. Сообщение об ошибке также отображается, если достигнут предел общего количества моделей, вершин или сеток, доступных для одновременного открытия.  

Дополнительные сведения см. в разделах [Характеристики поддерживаемого содержимого](#supported-content-specifications) и [Ограничения для файла и модели](#file-and-model-limitations).

### Трехмерная модель загружается, но не отображается должным образом

Если трехмерная модель не отображается в средстве 3D-просмотра (бета-версия) должным образом, коснитесь для отображения панели инструментов, затем выберите **Сведения**. Будут выделены характеристики файла, не поддерживаемые средством 3D-просмотра (бета-версия).

Наиболее частой причиной является отсутствие текстур, вероятно, из-за того, что они не внедрены в файл FBX. В этом случае модель будет отображаться белым. Данную проблему можно решить на этапе создания, выполнив экспорт из средства создания в файл FBX при включенном параметре внедрения текстур.

Дополнительные сведения см. в разделах [Характеристики поддерживаемого содержимого](#supported-content-specifications) и [Оптимизация трехмерных моделей для средства 3D-просмотра (бета-версия)](#optimizing-3d-models-for-3d-viewer-beta).

### При просмотре трехмерной модели снижается производительность

Производительность при загрузке и просмотре трехмерной модели зависит от сложности модели, количества одновременно открытых моделей и количества моделей с активной анимацией.

Дополнительные сведения см. в статье [Оптимизация трехмерных моделей для средства 3D-просмотра (бета-версия)](#optimizing-3d-models-for-3d-viewer-beta) и [Ограничения для файла и модели](#file-and-model-limitations).

### При открытии файла FBX в HoloLens он не открывается в средстве 3D-просмотра (бета-версия)

При установке средства 3D-просмотра (бета-версия) оно автоматически привязывается к расширению файла .fbx.

Если при открытии файла FBX отображается диалоговое окно, которое перенаправляет в Microsoft Store, в данный момент в HoloLens отсутствует приложение, привязанное к расширению файла .fbx.

Убедись, что средство 3D-просмотра (бета-версия) установлено. Если приложение не установлено, загрузите его из магазина Microsoft Store в HoloLens.

Если средство 3D-просмотра (бета-версия) установлено, запустите его, затем снова попытайтесь открыть файл. Если проблема не устранена, удалите и снова установите средство 3D-просмотра (бета-версия). При этом расширение файла .fbx будет заново привязано к средству 3D-просмотра (бета-версия).

Если при попытке открыть файл FBX открывается приложение, не являющееся средством 3D-просмотра (бета-версия), вероятно, это приложение было установлено после установки средства 3D-просмотра (бета-версия) и переняло привязку к расширению файла .fbx. Если требуется привязка средства 3D-просмотра (бета-версия) к расширению файла .fbx, удалите и снова установите средство 3D-просмотра (бета-версия).

### При нажатии кнопки открытия файла в средстве 3D-просмотра (бета-версия) приложение не запускается

При нажатии кнопки **Открыть файл** откроется приложение, связанное с функцией выбора файлов в HoloLens. Если приложение OneDrive установлено, оно будет запускаться при нажатии кнопки **Открыть файл**. Однако если в данный момент в HoloLens отсутствует приложение, связанное с функцией выбора файлов, будет выполняться перенаправление в Microsoft Store.

Если при нажатии кнопки **Открыть файл** запускается приложение, не являющееся OneDrive, вероятно, это приложение было установлено после установки приложения OneDrive и переняло привязку к функции выбора файлов. Если при нажатии кнопки **Открыть файл** в средстве 3D-просмотра (бета-версия) требуется запускать приложение OneDrive, удалите и снова установите OneDrive.

Если кнопка **Открыть файл** неактивна, возможно, достигнуто предельное количество моделей, доступных для одновременного открытия в средстве 3D-просмотра (бета-версия). Если в средстве 3D-просмотра (бета-версия) открыто 40 моделей, потребуется закрыть некоторые из них перед дальнейшим открытием моделей.

## Дополнительные ресурсы

- [Форумы технической поддержки](http://forums.hololens.com/categories/3d-viewer-beta) — только для архивирования. Этот форум больше не активен.
- [Уведомления третьих сторон](https://www.microsoft.com/{lang-locale}/legal/products)
