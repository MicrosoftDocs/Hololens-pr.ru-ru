---
title: Управление удостоверениями пользователей и входом для HoloLens
description: Узнайте, как управлять удостоверениями пользователей, поддержкой нескольких пользователей, безопасностью, проверкой подлинности предприятия и входом для устройств HoloLens.
keywords: HoloLens, пользователь, учетная запись, AAD, Azure AD, ADFS, учетная запись Майкрософт, MSA, учетные данные, Справочник
ms.assetid: 728cfff2-81ce-4eb8-9aaa-0a3c3304660e
author: scooley
ms.author: scooley
ms.date: 10/6/2020
ms.prod: hololens
ms.custom:
- CI 111456
- CSSTroubleshooting
ms.topic: article
ms.sitesec: library
ms.localizationpriority: medium
audience: ITPro
manager: jarrettr
appliesto:
- HoloLens (1st gen)
- HoloLens 2
ms.openlocfilehash: fbef357053900f6495cb59f52cba8669f0d0a3db
ms.sourcegitcommit: d5b2080868d6b74169a1bab2c7bad37dfa5a8b5a
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/25/2021
ms.locfileid: "112924423"
---
# <a name="manage-user-identity-and-sign-in-for-hololens"></a>Управление удостоверениями пользователей и входом для HoloLens

> [!NOTE]
> Эта статья является техническим справочником для ИТ-специалистов и технических энтузиастов. Если вы ищете инструкции для HoloLens, прочитайте статью "[Настройка hololens (1 Gen)](hololens1-start.md)" или "[Настройка hololens 2](hololens2-start.md)".

Как и другие устройства с Windows, HoloLens всегда работает в контексте пользователя. Идентификатор пользователя всегда существует. HoloLens обрабатывает удостоверение почти так же, как и другие устройства Windows 10. Эта статья является подробным справочником по идентификации в HoloLens и посвящен тому, как HoloLens отличается от других устройств Windows 10.

HoloLens поддерживает несколько типов удостоверений пользователей. Для входа можно использовать одну или несколько учетных записей пользователей. Ниже приведен обзор типов удостоверений и параметров проверки подлинности в HoloLens.

| Тип удостоверения | Учетные записи на устройство | Параметры проверки подлинности |
| --- | --- | --- |
| [Azure Active Directory](https://docs.microsoft.com/azure/active-directory/)<sup>1</sup>  | 64 | <ul><li>Поставщик веб-учетных данных Azure</li><li>Приложение Azure Authenticator</li><li>Биометрическая (IRI) &ndash; HoloLens 2, только<sup>2</sup> </li><li>Закрепить &ndash; необязательно для hololens (1-го поколения), требуется для hololens 2</li><li>Пароль</li></ul> |
| [Учетная запись Майкрософт (MSA)](https://docs.microsoft.com/windows/security/identity-protection/access-control/microsoft-accounts) | 1 | <ul><li>Только Биометрия (IRI) &ndash; HoloLens 2</li><li>Закрепить &ndash; необязательно для hololens (1-го поколения), требуется для hololens 2</li><li>Пароль</li></ul> |
| [Локальная учетная запись](https://docs.microsoft.com/windows/security/identity-protection/access-control/local-accounts) | 1 | Пароль |

Облачные учетные записи (Azure AD и MSA) предлагают больше функций, так как они могут использовать службы Azure.  
> [!IMPORTANT]
> 1 — Azure AD Premium не требуется для входа на устройство. Однако он необходим для других функций низкоуровневого облачного развертывания, таких как автоматическая регистрация и автопилот.

> [!NOTE]
> 2 — Хотя устройство HoloLens 2 может поддерживать до 64 учетных записей Azure AD, в проверку подлинности IRI могут регистрироваться только 10 этих учетных записей. Это согласуется с другими [параметрами биометрической проверки подлинности для Windows Hello для бизнеса](https://docs.microsoft.com/windows/security/identity-protection/hello-for-business/hello-faq#how-many-users-can-enroll-for-windows-hello-for-business-on-a-single-windows-10-computer).

## <a name="setting-up-users"></a>Настройка пользователей

Наиболее распространенный способ настройки нового пользователя — это во время использования встроенного интерфейса HoloLens (OOBE). Во время установки HoloLens запрашивает у пользователя вход с помощью учетной записи, которую он хочет использовать на устройстве. Эта учетная запись может быть потребителем учетная запись Майкрософт или учетной записью предприятия, которая была настроена в Azure. См. раздел Настройка [hololens (1-го поколения)](hololens1-start.md) или [hololens 2](hololens2-start.md).

Как и Windows на других устройствах, при входе в систему во время установки на устройстве создается профиль пользователя. В профиле пользователя хранятся приложения и данные. Эта же учетная запись также предоставляет единый вход для приложений, таких как ребро или Microsoft Store, с помощью API-интерфейсов диспетчера учетных записей Windows.  

Если вы используете учетную запись предприятия или организации для входа в HoloLens, HoloLens регистрируется в ИТ ИТ – инфраструктуре организации. Эта регистрация позволяет ИТ-администратору настроить управление мобильными устройствами (MDM) для отправки групповых политик в HoloLens.

По умолчанию, как и для других устройств Windows 10, вам потребуется снова войти в систему, когда HoloLens перезапускается или возобновляет работу из режима ожидания. Это поведение можно изменить с помощью приложения "Параметры" или управлять поведением групповой политики.

### <a name="linked-accounts"></a>Связанные учетные записи

Как и в классической версии Windows, вы можете связать дополнительные учетные данные веб-учетной записи с учетной записью HoloLens. Такое связывание упрощает доступ к ресурсам в приложениях или в рамках приложений (например, в магазине) или для объединения доступа к личным и рабочим ресурсам. После подключения учетной записи к устройству можно предоставить разрешение на использование устройства приложениям, чтобы вам не нужно было входить в каждое приложение по отдельности.

Связывание учетных записей не разделяет пользовательские данные, созданные на устройстве, например изображения или файлы для загрузки.  

### <a name="setting-up-multi-user-support-azure-ad-only"></a>Настройка поддержки нескольких пользователей (только для Azure AD)

HoloLens поддерживает нескольких пользователей из одного клиента Azure AD. Чтобы использовать эту функцию, необходимо использовать учетную запись, принадлежащую вашей организации, для настройки устройства. Впоследствии другие пользователи из того же клиента могут войти на устройство с экрана входа или коснуться плитки пользователя на начальной панели. Только один пользователь может войти в каждый момент времени. Когда пользователь входит в систему, HoloLens регистрирует предыдущего пользователя. Первый пользователь устройства считается владельцем устройства, за исключением случаев присоединение к Azure AD. Дополнительные [сведения о владельцах устройств](security-adminless-os.md#device-owner)см. здесь.

Все пользователи могут использовать приложения, установленные на устройстве. Однако у каждого пользователя есть свои данные и предпочтения. Удаление приложения с устройства приведет к его удалению для всех пользователей.  

Устройства, настроенные с учетными записями Azure AD, не будут разрешать вход на устройство с помощью учетной записи Майкрософт. Все последующие используемые учетные записи должны быть учетными записями Azure AD из того же клиента, что и устройство. Вы по-прежнему можете [войти, используя учетную запись Майкрософт, для приложений](hololens-identity.md#setting-up-multi-user-support-azure-ad-only) , которые ее поддерживают (например, Microsoft Store). Чтобы перейти с использования учетных записей Azure AD в учетные записи Майкрософт для входа на устройство, необходимо переустановить [Flash-устройство](hololens-recovery.md#clean-reflash-the-device).

> [!NOTE]
> **HoloLens (1 Gen)** начал поддерживать несколько пользователей Azure AD в [обновлении Windows 10 от апреля 2018](https://docs.microsoft.com/windows/mixed-reality/release-notes-april-2018) в составе [Windows holographic для бизнеса](hololens-upgrade-enterprise.md).

### <a name="multiple-users-listed-on-sign-in-screen"></a>На экране входа отображается несколько пользователей

Ранее на экране входа отображался только последний пользователь, выполнивший вход в систему, а также точка входа другого пользователя. Мы получили Отзывы клиентов о том, что это недостаточное, если на устройство вошли несколько пользователей. Они по-прежнему требовали ввести имя пользователя и т. д.

В [Windows holographic, версия 21H1](hololens-release-notes.md#windows-holographic-version-21h1), при выборе **другого пользователя** , расположенного справа от поля ввода ПИН-кода, на экране входа отобразятся несколько пользователей с ранее выполненными входами в устройство. Это позволяет пользователям выбрать профиль пользователя, а затем войти, используя учетные данные Windows Hello. Новый пользователь также может быть добавлен на устройство с этой страницы других пользователей с помощью кнопки **Добавить учетную запись** .

Если в меню другие пользователи кнопка другие пользователи будет отображать последнего пользователя, выполнившего вход в устройство. Нажмите эту кнопку, чтобы вернуться к экрану входа для этого пользователя.

![Экран входа по умолчанию](./images/multiusers1.jpg)

<br>

![Экран входа другие пользователи](./images/multiusers2.jpg)

## <a name="removing-users"></a>Удаление пользователей

Вы можете удалить пользователя с устройства, выбрав **Параметры**  >  **учетные записи**  >  **другие пользователи**. Это действие также освобождает место, удаляя все данные приложения этого пользователя с устройства.  

## <a name="using-single-sign-on-within-an-app"></a>Использование единого входа в приложении

Как разработчик приложения, вы можете воспользоваться преимуществами связанных удостоверений в HoloLens с помощью [API диспетчера учетных записей Windows](https://docs.microsoft.com/uwp/api/Windows.Security.Authentication.Web.Core), как и на других устройствах Windows. Некоторые примеры кода для этих API доступны на сайте GitHub: [Пример управления учетными записями веб-сайта](https://go.microsoft.com/fwlink/p/?LinkId=620621).

Любые прерывания учетной записи, которые могут произойти, например запрос согласия пользователя на сведения об учетной записи, двухфакторная проверка подлинности и т. д., должны обрабатываться, когда приложение запрашивает маркер проверки подлинности.

Если для приложения требуется конкретный тип учетной записи, который ранее не был связан, приложение может попросить пользователя добавить его. Этот запрос активирует область параметров учетной записи для запуска в качестве модального дочернего приложения. Для двумерных приложений это окно отображается непосредственно в центре приложения. Для приложений Unity этот запрос временно выводит пользователя из приложения holographic для отображения дочернего окна. Сведения о настройке команд и действий в этой панели см. в разделе [класс вебаккаунткомманд](https://docs.microsoft.com/uwp/api/Windows.UI.ApplicationSettings.WebAccountCommand).

## <a name="enterprise-and-other-authentication"></a>Корпоративная и другая проверка подлинности

Если приложение использует другие типы проверки подлинности, такие как NTLM, базовый или Kerberos, можно использовать [Пользовательский интерфейс учетных данных Windows](https://docs.microsoft.com/uwp/api/Windows.Security.Credentials.UI) для получения, обработки и хранения учетных данных пользователя. Взаимодействие с пользователем при сборе этих учетных данных очень похоже на другие прерывания учетных записей на основе облака и отображается как дочернее приложение на вершине 2D-приложения или временно приостанавливает приложение Unity для отображения пользовательского интерфейса.

## <a name="deprecated-apis"></a>Устаревшие интерфейсы API

Один из способов, при котором разработка для HoloLens отличается от разработки для настольных систем, заключается в том, что API [онлинеидаусентикатор](https://docs.microsoft.com/uwp/api/Windows.Security.Authentication.OnlineId.OnlineIdAuthenticator) не полностью поддерживается. Хотя API возвращает маркер, если основная учетная запись находится в хорошем расположении, такие прерывания, как описанные в этой статье, не отображают пользовательский интерфейс для пользователя и не могут правильно пройти проверку подлинности учетной записи.

## <a name="frequently-asked-questions"></a>Часто задаваемые вопросы

### <a name="is-windows-hello-for-business-supported-on-hololens-1st-gen"></a>Поддерживается ли Windows Hello для бизнеса в HoloLens (1-й общий)?

Windows Hello для бизнеса (который поддерживает использование ПИН-кода для входа) поддерживается для HoloLens (1 Gen). Чтобы разрешить вход ПИН-кода Windows Hello для бизнеса в HoloLens, выполните следующие действия.

1. Устройство HoloLens должно [управляться MDM](hololens-enroll-mdm.md).
1. Для устройства необходимо включить Windows Hello для бизнеса. ([См. инструкции по Microsoft Intune.](https://docs.microsoft.com/intune/windows-hello))
1. В HoloLens пользователь **может использовать параметры**  >  **входа**  >  **Добавить ПИН-код** , чтобы настроить ПИН-код.

> [!NOTE]
> Пользователи, которые входят с помощью учетная запись Майкрософт, могут также настроить ПИН-код в **параметрах**  >  **входа**  >  **Добавить ПИН-код**. Этот ПИН-код связан с [Windows Hello](https://support.microsoft.com/help/17215/windows-10-what-is-hello), а не с [Windows Hello для бизнеса](https://docs.microsoft.com/windows/security/identity-protection/hello-for-business/hello-overview).

### <a name="how-is-iris-biometric-authentication-implemented-on-hololens-2"></a>Как применяется биометрическая проверка подлинности IRI в HoloLens 2?

HoloLens 2 поддерживает проверку подлинности IRI. IRI основан на технологии Windows Hello и поддерживается для использования как Azure Active Directory, так и учетных записей Майкрософт. IRI реализуется таким же образом, как и другие технологии Windows Hello, и обеспечивает безопасность в пределах 1/100 КБ.

Дополнительные сведения см. в разделе [требования к биометрии и спецификации для Windows Hello](https://docs.microsoft.com/windows-hardware/design/device-experiences/windows-hello-biometric-requirements) . Дополнительные сведения о [Windows Hello](https://docs.microsoft.com/windows-hardware/design/device-experiences/windows-hello) и [Windows Hello для бизнеса](https://docs.microsoft.com/windows/security/identity-protection/hello-for-business/hello-identity-verification). 

### <a name="how-does-the-type-of-account-affect-sign-in-behavior"></a>Как тип учетной записи влияет на поведение при входе?

При применении политик для входа в систему политики всегда соблюдаются. Если политика для входа в систему не применяется, это поведение по умолчанию для каждого типа учетной записи.

- **Azure AD**: запрашивает проверку подлинности по умолчанию и настраивается **параметрами** , чтобы больше не запрашивать проверку подлинности.
- **Учетная запись Майкрософт**: поведение блокировки разрешается автоматически разблокировать, однако при перезагрузке по-прежнему требуется проверка подлинности входа.
- **Локальная учетная запись**. всегда запрашивает проверку подлинности в виде пароля, которую нельзя настроить в **параметрах**

> [!NOTE]
> Таймеры неактивности в настоящее время не поддерживаются. Это означает, что политика **алловидлеретурнвисаутпассворд** учитывается только при переходе устройства в режим ожидания.

## <a name="additional-resources"></a>Дополнительные ресурсы

Дополнительные сведения о защите идентификации пользователей и проверке подлинности в [документации по безопасности и удостоверениям Windows 10](https://docs.microsoft.com/windows/security/identity-protection/)см. в этой статье.

Дополнительные сведения о настройке инфраструктуры гибридной идентификации см. в [документации по гибридному удостоверению Azure](https://docs.microsoft.com/azure/active-directory/hybrid/).
