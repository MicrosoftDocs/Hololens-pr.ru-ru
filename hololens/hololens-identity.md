---
title: Управление удостоверениями пользователей и входом для HoloLens
description: Управление удостоверениями пользователей, безопасностью и входом для HoloLens.
keywords: HoloLens, пользователь, учетная запись, AAD, ADFS, учетная запись Майкрософт, MSA, учетные данные, справочные материалы
ms.assetid: 728cfff2-81ce-4eb8-9aaa-0a3c3304660e
author: scooley
ms.author: scooley
ms.date: 10/6/2020
ms.prod: hololens
ms.custom:
- CI 111456
- CSSTroubleshooting
ms.topic: article
ms.sitesec: library
ms.localizationpriority: medium
audience: ITPro
manager: jarrettr
appliesto:
- HoloLens (1st gen)
- HoloLens 2
ms.openlocfilehash: 5963e71bd6fdd084ca442995b02d99fc40da9d43
ms.sourcegitcommit: 5877c3e51de49f949b35ab840a3312a009a4487a
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/07/2020
ms.locfileid: "11102338"
---
# Управление удостоверениями пользователей и входом для HoloLens

> [!NOTE]
> Эта статья содержит технический справочник по ИТ-специалистам и техническим энтузиастам. Если вы ищете инструкции по настройке HoloLens, ознакомьтесь со статьей[Настройка hololens (1-го поколения)](hololens1-start.md)или "[Настройка hololens 2](hololens2-start.md)".

Как и другие устройства с Windows, HoloLens всегда работает в контексте пользователя. Всегда есть учетная запись пользователя. HoloLens обрабатывает удостоверение практически так же, как и другие устройства с Windows 10. Эта статья является подробным справочником по идентификации на HoloLens и фокусируется на том, как HoloLens отличается от других устройств с Windows 10.

HoloLens поддерживает несколько типов удостоверений пользователей. Для входа можно использовать одну или несколько учетных записей пользователей. Ниже представлен обзор типов удостоверений и проверки подлинности на HoloLens.

| Тип удостоверения | Учетные записи на устройстве | Параметры проверки подлинности |
| --- | --- | --- |
| [Azure Active Directory (AAD)](https://docs.microsoft.com/azure/active-directory/) | 64 | <ul><li>Поставщик веб-учетных данных Azure</li><li>Приложение Azure Authenticator</li><li>Биометрическая (IRI) &ndash; только для HoloLens 2</li><li>Закрепить &ndash; опционально для hololens (1-го поколения), требуется для HoloLens 2</li><li>Пароль</li></ul> |
| [Учетная запись Майкрософт (MSA)](https://docs.microsoft.com/windows/security/identity-protection/access-control/microsoft-accounts) | 1,1 | <ul><li>Биометрическая (IRI) &ndash; только для HoloLens 2</li><li>Закрепить &ndash; опционально для hololens (1-го поколения), требуется для HoloLens 2</li><li>Пароль</li></ul> |
| [Локальная учетная запись](https://docs.microsoft.com/windows/security/identity-protection/access-control/local-accounts) | 1,1 | Пароль |

Облачные учетные записи (AAD и MSA) предлагают больше возможностей, так как они могут использовать службы Azure.  

## Настройка пользователей

Наиболее распространенный способ настройки нового пользователя — это внешний интерфейс (OOBE), установленный в HoloLens. Во время установки программа HoloLens предлагает пользователю выполнить вход с помощью учетной записи, которую он хочет использовать на устройстве. Эта учетная запись может представлять собой учетную запись пользователя Microsoft или корпоративную учетную запись, настроенную в Azure. Ознакомьтесь со сведениями о настройке [hololens (1-го поколения)](hololens1-start.md) или [hololens 2](hololens2-start.md).

Так же, как и Windows на других устройствах, при входе в программу установки на устройстве создается профиль пользователя. В профиле пользователя хранятся приложения и данные. Одна и та же учетная запись также предоставляет единый вход для таких приложений, как EDGE или Skype, с помощью API диспетчера учетных записей Windows.  

Если вы используете учетную запись предприятия или организации для входа в HoloLens, она регистрируется в ИТ-инфраструктуре организации. Регистрация позволяет ИТ-администратору настроить управление мобильными устройствами (MDM) для отправки групповых политик на HoloLens.

По умолчанию, как и для других устройств с Windows 10, вам придется повторно входить в службу, когда HoloLens перезапускает или выходит из режима ожидания. Вы можете использовать приложение "Параметры" для изменения этого поведения или поведение, которое можно управлять с помощью групповой политики.

### Связанные учетные записи

Как и в классической версии Windows, вы можете связать дополнительные учетные данные веб-учетной записи с учетной записью HoloLens. Такая связь упрощает доступ к ресурсам в разных приложениях (например, в магазине) и на объединение доступа к личным и трудским ресурсам. После подключения учетной записи к устройству вы можете предоставить ему разрешение на использование устройства, чтобы вам не приходилось входить в каждое приложение по отдельности.

Связывание учетных записей не отделяет данные пользователя, созданные на устройстве, например изображения или загрузки.  

### Настройка поддержки нескольких пользователей (только для AAD)

HoloLens поддерживает нескольких пользователей одного и того же клиента AAD. Для использования этой функции необходимо настроить устройство с помощью учетной записи, которая входит в вашу организацию. Затем другие пользователи из того же клиента могут входить на устройство с экрана входа или путем касания пользовательской плитки на начальной панели. За один раз можно войти только на одного пользователя. Когда пользователь входит в свою учетную запись, она регистрирует предыдущего пользователя. Первый пользователь на устройстве считается владельцем устройства (за исключением случая присоединения к AAD) [Узнайте больше о владельцах устройств](security-adminless-os.md#device-owner).

Все пользователи могут использовать приложения, установленные на устройстве. Однако у каждого пользователя есть свои данные и параметры приложения. Удаление приложения с устройства приведет к его удалению для всех пользователей.  

Устройства, настроенные с учетными записями AAD, не смогут входить на устройство с помощью учетной записи Майкрософт. Все последующие используемые учетные записи должны быть учетными записями AAD того же клиента, что и устройство. Вы по-прежнему можете [войти в систему с помощью учетной записи Майкрософт в приложениях](hololens-identity.md#setting-up-multi-user-support-aad-only) , которые ее поддерживают (например, в Microsoft Store). Чтобы изменить использование учетных записей AAD на учетные записи Майкрософт для входа на устройство, необходимо [перефлэшировать устройство](hololens-recovery.md#clean-reflash-the-device).

> [!NOTE]
> **HoloLens (1-го поколения)** начал поддерживать несколько пользователей AAD в [Windows 10 2018 апреля Updates](https://docs.microsoft.com/windows/mixed-reality/release-notes-april-2018) в составе [Windows holographic для бизнеса](hololens-upgrade-enterprise.md).

## Удаление пользователей

Вы можете удалить пользователя с устройства, перейдя к **параметрам**  >  **учетные записи**  >  **других пользователей**. Это действие также освобождает место, удаляя все данные приложения этого пользователя с устройства.  

## Использование единого входа в приложении

Разработчик приложения может использовать преимущества связанных удостоверений на HoloLens с помощью [API диспетчера учетных записей Windows](https://docs.microsoft.com/uwp/api/Windows.Security.Authentication.Web.Core)так же, как и на других устройствах с Windows. Некоторые примеры кода для этих API доступны в GitHub: [Пример управления веб-учетными записями](https://go.microsoft.com/fwlink/p/?LinkId=620621).

Любые перерывы в учетных записях, которые могут возникнуть, например запросить согласие пользователя на доступ к данным учетной записи, двухфакторная проверка подлинности и т. д., должны обрабатываться, когда приложение запрашивает маркер проверки подлинности.

Если для вашего приложения требуется определенный тип учетной записи, который еще не был связан ранее, ваше приложение может попросить пользователя добавить его. Этот запрос запускает область Параметры учетной записи, чтобы запустить ее как модальный дочерний элемент вашего приложения. Для двумерных приложений это окно отображается непосредственно над центром приложения. В приложениях Unity этот запрос ненадолго извлекается из вашего дочернего окна, когда пользователь выходит из вашего приложения с более holographic г. Сведения о настройке команд и действий в этой области можно найти в разделе [класс WebAccountCommand](https://docs.microsoft.com/uwp/api/Windows.UI.ApplicationSettings.WebAccountCommand).

## Предприятие и другие проверки подлинности

Если ваше приложение использует другие типы проверки подлинности, например NTLM, Basic или Kerberos, вы можете использовать [Пользовательский интерфейс учетных данных Windows](https://docs.microsoft.com/uwp/api/Windows.Security.Credentials.UI) для сбора, обработки и хранения учетных данных пользователя. Взаимодействие пользователей с этими учетными данными очень похоже на работу других прерываний учетных записей на основе облака и отображается как дочернее приложение на вершине 2D-приложения или ненадолго приостанавливает приложение Unity, чтобы показать пользовательский интерфейс.

## Устаревшие API

Один из способов, с помощью которых разработка для HoloLens отличается от разработки для настольного компьютера, состоит в том, что API [OnlineIDAuthenticator](https://docs.microsoft.com/uwp/api/Windows.Security.Authentication.OnlineId.OnlineIdAuthenticator) не полностью поддерживается. Несмотря на то, что API возвращает маркер, если основная учетная запись находится в хорошем расположении, такие прерывания, как, описанные в этой статье, не отображают пользовательский интерфейс пользователя и не могут правильно пройти проверку учетной записи.

## Вопросы и ответы

### Поддерживается ли Windows Hello для бизнеса на HoloLens (1-го поколения)?

Функция Windows Hello для бизнеса (которая поддерживает использование ПИН-кода для входа) поддерживается для HoloLens (1 Gen). Чтобы разрешить вход в ПИН-код Windows Hello для бизнеса на HoloLens, выполните указанные ниже действия.

1. Устройство HoloLens должно [управляться MDM](hololens-enroll-mdm.md).
1. Для этого устройства необходимо включить Windows Hello для бизнеса. ([См. инструкции для Microsoft Intune.](https://docs.microsoft.com/intune/windows-hello))
1. В HoloLens пользователь **может использовать параметры**  >  **входа**  >  **Добавить PIN-код** , чтобы настроить ПИН-код.

> [!NOTE]
> Пользователи, которые входят с помощью учетной записи Майкрософт, также могут настроить ПИН- **код в параметрах**  >  **входа**  >  **Добавить PIN-код**. Этот PIN-код связан с [Windows Hello](https://support.microsoft.com/help/17215/windows-10-what-is-hello), а не [Windows Hello для бизнеса](https://docs.microsoft.com/windows/security/identity-protection/hello-for-business/hello-overview).

### Как осуществляется биометрическая проверка подлинности IRI для HoloLens 2?

HoloLens 2 поддерживает проверку подлинности с помощью диафрагмы. IRI основывается на технологии Windows Hello и поддерживается для использования как в Azure Active Directory, так и в учетных записях Майкрософт. IRI реализуется таким же образом, как и другие технологии Windows Hello, и обеспечивает безопасность для системы безопасности с большим объемом 1/100 КБ.

Вы можете узнать больше о биометрических требованиях и спецификациях для Windows Hello [здесь](https://docs.microsoft.com/windows-hardware/design/device-experiences/windows-hello-biometric-requirements). Дополнительные сведения о [Windows Hello](https://docs.microsoft.com/windows-hardware/design/device-experiences/windows-hello) и [Windows Hello для бизнеса](https://docs.microsoft.com/windows/security/identity-protection/hello-for-business/hello-identity-verification). 

### Как тип учетной записи влияет на поведение при входе?

При применении политик для входа в систему политики всегда соблюдаются. Если политика для входа не применяется, это поведение по умолчанию для каждого типа учетной записи:

- **Azure AD**: запрос проверки подлинности по умолчанию, который можно настроить с помощью **параметров** , чтобы больше не задавать способ проверки подлинности.
- **Учетная запись Майкрософт**: поведение блокировки разрешающее автоматическое снятие блокировки, но при перезагрузке по-прежнему требуется проверка подлинности вход.
- **Локальная учетная запись**: всегда выводит запрос проверки подлинности в форме пароля, а не для **настройки в параметрах**

> [!NOTE]
> Таймеры активности в настоящее время не поддерживаются, это означает, что политика **AllowIdleReturnWithoutPassword** учитывается, только когда устройство переходит в режим ожидания.

## Дополнительные ресурсы

Ознакомьтесь с дополнительными сведениями о защите удостоверений пользователей и проверке подлинности в [документации по безопасности и удостоверениям Windows 10](https://docs.microsoft.com/windows/security/identity-protection/).

Узнайте больше о настройке инфраструктуры гибридных удостоверений для проверки подлинности [гибридной документации Azure](https://docs.microsoft.com/azure/active-directory/hybrid/).
