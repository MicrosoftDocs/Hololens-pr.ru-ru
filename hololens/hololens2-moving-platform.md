---
title: Режим подвижного пола для HoloLens 2
description: Как использовать HoloLens на подвижном полу
keywords: подвижный пол, динамическое движение, hololens, режим подвижного пола
author: evmill
ms.author: v-evmill
ms.reviewer: yabahman
ms.date: 10/12/2021
ms.prod: hololens
ms.topic: article
ms.sitesec: library
ms.localizationpriority: high
audience: HoloLens
manager: yannisle
appliesto:
- HoloLens 2
ms.openlocfilehash: 7c636cd97e31c74d4976e71ec3f41ac5afe5bdcc
ms.sourcegitcommit: 9574db58592b7302bd2386bdf7fda3f6721de818
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/13/2021
ms.locfileid: "129924421"
---
# <a name="moving-platform-mode-on-low-dynamic-motion-moving-platforms"></a>Режим подвижного пола на полу с незначительным динамическим движением

В [Windows Holographic версии 21H2](hololens-release-notes.md#windows-holographic-version-21h2) мы добавили в HoloLens 2 бета-версию поддержки отслеживания на полу с незначительным динамическим движением. После установки сборки и включения режима подвижного пола вы сможете использовать HoloLens 2 в средах, которые раньше были недоступны, таких как крупные корабли и морские суда. Сейчас эта функция предназначена для использования только в таких условиях. Хотя ничто не мешает вам попытаться воспользоваться ею в других средах, эта функция ориентирована в первую очередь на поддержку именно таких сред.

![Пример подвижного пола.](./images/mpm-compare.gif)

В этой статье рассматриваются следующие вопросы:

1. [Зачем нужна поддержка подвижного пола](#why-moving-platform-mode-is-necessary)
1. [Включение режима подвижного пола](#enabling-moving-platform-mode)

## <a name="why-moving-platform-mode-is-necessary"></a>Зачем нужна поддержка подвижного пола

HoloLens нужно отслеживать положение вашей головы с [6 степенями свободы](https://en.wikipedia.org/wiki/Six_degrees_of_freedom) (движение по осям X, Y, Z, тангаж, крен, рыскание), чтобы отображать стабильные голограммы. Для этого HoloLens получает два похожих набора данных из таких отдельных источников:

1. **Камеры видимого света.** Эти камеры отслеживают среду, например комнату, в которой вы используете HoloLens.
1. **Инерциальный измерительный блок (IMU).** IMU включает акселерометр, гироскоп и магнитометр, которые отслеживают движение и ориентацию головы относительно Земли.

Сведения из этих двух источников объединяются для отслеживания положения головы с низкой задержкой и достаточной частотой, обеспечивающей отображение четких голограмм.

Но такой подход основывается на ключевом предположении, что среда (отслеживаемая камерами) сохраняет неподвижность относительно Земли (относительно положения которой IMU выполняет измерения). Если это не так, например на морском судне, данные из двух источников могут конфликтовать и приводить к сбою отслеживания. При таком конфликте также передаются неправильные данные о положении, из-за чего голограммы становятся расплывчатыми и даже теряется отслеживание.

Режим подвижного пола устраняет эту проблему. После включения режима подвижного пола наше средство отслеживания получает сигнал о том, что данные датчиков могут не совпадать. Поэтому ему нужно больше полагаться на визуальное отслеживание и быстро определять и отфильтровывать неподходящие данные инерционного движения до использования входных данных IMU.

## <a name="supported-environments-and-known-limitations"></a>Поддерживаемые среды и известные ограничения

Хотя режим подвижного пола был разработан для интеллектуальной обработки случаев с конфликтами инерциальных и визуальных данных, сейчас он предназначен для использования на крупных морских судах с незначительным динамическим движением. Это предполагает наличие определенных ограничений и неподдерживаемых сценариев.

### <a name="known-limitations"></a>Известные ограничения

- Единственные поддерживаемые среды для режима подвижного пола (MPM) — крупные морские суда с незначительным динамическим движением. Это означает, что большинство обычных сред и ситуаций еще **не** поддерживаются из-за высокой частоты движения, сильного ускорения и [рывков](https://en.wikipedia.org/wiki/Jerk_(physics)). Например, не поддерживается использование этой функции в самолетах, поездах, автомобилях, автобусах, лифтах, на небольших лодках, велосипедах и т. д.
- При включенном режиме MPM голограммы могут немного дрожать, особенно в условиях беспорядочного волнения на воде.
- Ничто не мешает пользователям попытаться применить MPM в неподдерживаемых средах, но при этом могут возникнуть нежелательные побочные эффекты, даже если устройство сможет отслеживать положение в неподдерживаемом пространстве. Например, с MPM пользователи, вероятно, смогут использовать устройство в движущемся лифте, хотя раньше это было невозможно. К сожалению, хотя MPM позволяет устройству сохранять данные отслеживания, эта функция пока не может управлять картами. При движении между этажами в лифте устройство будет путать верхние и нижние этажи, что негативно влияет на качество карт.

## <a name="prerequisites"></a>Необходимые компоненты

Бета-версия поддержки режима подвижного пола имеет всего несколько требований:

1. Установите [Windows Holographic версии 21H2](hololens-release-notes.md#windows-holographic-version-21h2) или более поздней, установив [последнюю сборку](https://aka.ms/hololens2download) (с обновлением или перезаписью) [через ARC](hololens-recovery.md#clean-reflash-the-device).

2. Включите [режим разработчика и портал устройств](/mixed-reality/develop/platform-capabilities-and-apis/using-the-windows-device-portal).

## <a name="enabling-moving-platform-mode"></a>Включение режима подвижного пола

Чтобы включить режим подвижного пола, сначала [включите портал устройств](/windows/mixed-reality/develop/platform-capabilities-and-apis/using-the-windows-device-portal).

1. Выберите значок **Система** (гармошка) в меню слева.

   ![Первое изображение.](.\images\mpm-01.png)

2. Выберите страницу **Режим подвижного пола** и установите **соответствующий флажок**.

    ![Второе изображение.](.\images\mpm-02.png)

3. При появлении запроса с предупреждением нажмите **ОК**.

   ![Третье изображение.](.\images\mpm-03.png)

4. Перезагрузите устройство: сделайте это на портале устройств в меню **Питание** в правой верхней части экрана или воспользуйтесь голосовой командой &quot;Reboot the device&quot; (Перезагрузить устройство) и выберите &quot;Да&quot;.

   ![Четвертое изображение.](.\images\mpm-04.png)

Если вы не видите вариант "Режим подвижного пола" на портале устройств, скорее всего, вы используете неподходящую сборку. См. раздел [Предварительные требования](#prerequisites).

## <a name="reporting-issues"></a>Создание отчетов о проблемах

Как упоминалось выше, эта функция является бета-версией, доступной только в режиме разработчика. Это означает, что вы можете столкнуться с проблемами. Если это произойдет, мы сможем оценить и улучшить продукт:

1. Сообщите о проблеме через [Центр отзывов](hololens-feedback.md) в категории **Точность, стабильность и надежность голограмм** и включите следующее:
    1. Описание проблемы, включая ожидаемое и демонстрируемое поведение.
    1. [Видеозапись](holographic-photos-and-videos.md#capture-a-mixed-reality-video) Смешанной реальности для описания проблемы.
2.  Откройте обращение в службу поддержки на сайте [https://aka.ms/hlsupport](https://aka.ms/hlsupport) и предоставьте URL-адрес Центра отзывов, чтобы мы могли обратиться к вам с возникающими вопросами.