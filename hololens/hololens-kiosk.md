---
title: Настройка HoloLens в качестве киоска
description: узнайте, как настроить и использовать конфигурацию киоска для блокировки приложений на HoloLens устройствах.
ms.prod: hololens
ms.sitesec: library
author: dansimp
ms.author: dansimp
ms.topic: article
ms.localizationpriority: medium
ms.date: 8/24/2021
ms.custom:
- CI 115262
- CI 111456
- CSSTroubleshooting
ms.reviewer: ''
manager: laurawi
appliesto:
- HoloLens (1st gen)
- HoloLens 2
ms.openlocfilehash: e856ac74e959743e8d05ea6acf583700a6450373
ms.sourcegitcommit: 37611ac0a4efaf69816a734e16b763c810655f1a
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/02/2021
ms.locfileid: "123411350"
---
# <a name="set-up-hololens-as-a-kiosk"></a>Настройка HoloLens в качестве киоска

## <a name="what-is-kiosk-mode"></a>Что такое режим киоска?

Режим киоска — это функция, позволяющая контролировать, какие приложения отображаются в меню "Пуск" при входе пользователя в HoloLens. Существует два поддерживаемых сценария:

1. **Режим киоска одного приложения** — меню "Пуск" не отображается, и одно приложение запускается автоматически при входе пользователя в систему. <br> В *примере используется*: устройство, которое запускает только приложение руководств по Dynamics 365.
2. **режим киоска нескольких приложений** — меню показывает только те приложения, которые были указаны в конфигурации киоска при входе пользователя. При необходимости можно выбрать приложение для автоматического запуска. <br> в *примере используется*: устройство, которое показывает только приложение магазина, центр обратной связи и Параметрыное приложение в меню "пуск".

    <img alt="Multi app kiosk example" src=".\images\multi-app-kiosk.jpg" width="411" height="500" />

## <a name="description-of-kiosk-mode-experience-when-a-user-signs-in"></a>Описание работы режима киоска при входе пользователя

В следующей таблице перечислены возможности функций в различных режимах киоска.

| &nbsp; |Меню "Пуск" |Меню быстрых действий |Камера и видео |Miracast |Кортана |Встроенные голосовые команды |
| --- | --- | --- | --- | --- | --- | --- |
|Киоск с одним приложением |Выключено |Выключено |Выключено |Выключено   |Выключено |Доступной |
|Киоск с несколькими приложениями |Активировано |Доступной  |Имеющ  |Имеющ |Имеющ   |Доступной  |

\*дополнительные сведения о том, как включить отключенные компоненты или как voice commands взаимодействуют с отключенными функциями, а также Кортана см. в разделе [HoloLens аумидс для приложений](hololens-kiosk-reference.md#hololens-application-user-model-ids-aumids).

## <a name="key-general-considerations-before-configuring-kiosk-mode"></a>Основные общие вопросы перед настройкой режима киоска

1. определите тип учетной записи пользователя, который подписывается в HoloLens в вашей среде. HoloLens поддерживает учетные записи Azure Active Directory (AAD), учетные записи майкрософт (MSA) и локальные учетные записи. Кроме того, также поддерживаются временно созданные учетные записи, называемые гостями или посетителями (только для устройств, присоединяемых к AAD). Дополнительные сведения см. в статье [Управление удостоверениями пользователей и вход в систему для HoloLens](hololens-identity.md).
2. Определите целевые объекты интерфейса режима киоска: все, один пользователь, определенные пользователи или пользователи, являющиеся членами групп AAD и т. д.
3. Для режима киоска нескольких приложений определите приложения для отображения в меню "Пуск". Для каждого приложения потребуется [идентификатор модели пользователя приложения (AUMID)](hololens-kiosk-reference.md#hololens-application-user-model-ids-aumids) .
4. определите, будет ли режим киоска применен к HoloLens через пакеты подготовки среды выполнения или сервер управления мобильными устройствами (MDM).

## <a name="security-considerations"></a>Вопросы безопасности

Режим киоска не следует рассматривать как метод безопасности, но в качестве средства управления запуском при входе пользователя. Режим киоска можно сочетать с вариантами, упомянутыми ниже, если есть определенные потребности, связанные с безопасностью.

- если Параметры приложение настроено для отображения в полноэкранном режиме и вы хотите контролировать, какие страницы отображаются в Параметры приложении, см. [страницу Параметры видимость](settings-uri-list.md) .
- если требуется управлять доступом к определенным возможностям оборудования, например к камере, Bluetooth и т. д. для определенных приложений и т. д., см. статью [политики в CSP политики, поддерживаемой Windows управления клиентами HoloLens 2](/windows/client-management/mdm/policies-in-policy-csp-supported-by-hololens2). Вы можете ознакомиться с нашими [общими ограничениями на устройства](hololens-common-device-restrictions.md) для идей.
- Режим киоска не блокирует приложение (настроенное в ходе работы киоска) от запуска других приложений. если вы хотите полностью блокировать запуск определенных приложений и процессов на HoloLens, см. статью [использование Защитник Windows управления приложениями на HoloLens 2 устройствах в Microsoft Intune в Azure](/mem/intune/configuration/custom-profile-hololens) .

## <a name="key-technical-considerations-for-kiosk-mode-for-hololens"></a>Основные технические рекомендации для режима киоска для HoloLens

Применяется только в том случае, если планируется использовать пакеты подготовки среды выполнения или ручное создание конфигураций киосков. В конфигурации режима киоска используется иерархическая структура, основанная на XML:

- Назначенный профиль доступа определяет, какие приложения отображаются в меню "Пуск" в режиме киоска. Можно определить несколько профилей в одной XML-структуре, на которую можно ссылаться позднее.
- Назначенная конфигурация доступа ссылается на профиль и целевые пользователи этого профиля, например определенного пользователя или группы AAD или посетителя, и т. д. Можно определить несколько конфигураций в одной XML-структуре в зависимости от сложности сценариев использования (см. раздел Поддерживаемые сценарии ниже).
- Дополнительные сведения см. в разделе [CSP ассигнедакцесс](/windows/client-management/mdm/assignedaccess-csp).

## <a name="supported-scenarios-for-kiosk-mode-based-on-identity-type"></a>Поддерживаемые сценарии для режима киоска на основе типа удостоверения

Ознакомьтесь со [ссылками](hololens-kiosk-reference.md#kiosk-xml-code-samples) на примеры на основе вашего сценария и обновите их в соответствии со своими потребностями перед копированием.

> [!NOTE]
> Используйте XML только в том случае, если не используется пользовательский интерфейс Intune для создания конфигурации киоска.

### <a name="for-users-who-sign-in-as-either-local-account-or-msa"></a>Для пользователей, которые входят в локальную учетную запись или MSA.

| **Желаемый опыт в киоске** | **Рекомендуемая конфигурация киоска** | **Способы настройки**  | **Замечания** |
| --- | --- | --- | --- |
| Каждый пользователь, вошедший в систему, получает опыт работы в киоске. | [Настройка профиля глобального назначенного доступа к приложению для нескольких приложений](hololens-kiosk-reference.md#multiple-app-global-assigned-access-profile) | • [Microsoft Intune настраиваемый шаблон](hololens-kiosk.md?tabs=intunecustom#steps-in-configuring-kiosk-mode-for-hololens) <br> • [Подготовка среды выполнения — множественное приложение](hololens-kiosk.md?tabs=ppkgmak#steps-in-configuring-kiosk-mode-for-hololens) | Для глобального назначенного доступа требуется [20H2 и более новые сборки](hololens-release-notes.md#windows-holographic-version-20h2) |
| Конкретный пользователь, вошедший в систему, получает опыт работы в киоске.  | [Настройка одного или нескольких назначенных приложению профиля доступа (при необходимости) указание имени конкретного пользователя.](hololens-kiosk-reference.md#multiple-app-assigned-access-profile-for-a-local-account-or-aad-user-account) | [См. раздел Поддерживаемые параметры ниже.](#steps-in-configuring-kiosk-mode-for-hololens) | В режиме киоска одного приложения в HoloLens поддерживается только учетная запись локального пользователя или учетная запись MSA. <br> В режиме киоска приложения поддерживается только учетная запись MSA или учетная запись AAD в HoloLens. |

### <a name="for-users-who-sign-in-as-aad-account"></a>Для пользователей, которые входят в учетную запись AAD

| **Желаемый опыт в киоске** | **Рекомендуемая конфигурация киоска** | **Способы настройки** | **Замечания** |
| --- | --- | --- | --- |
| Каждый пользователь, вошедший в систему, получает опыт работы в киоске. | [Настройка профиля глобального назначенного доступа к приложению для нескольких приложений](hololens-kiosk-reference.md#multiple-app-global-assigned-access-profile) | • [Microsoft Intune настраиваемый шаблон](hololens-kiosk.md?tabs=intunecustom#steps-in-configuring-kiosk-mode-for-hololens) <br> • [Подготовка среды выполнения — множественное приложение](hololens-kiosk.md?tabs=ppkgmak#steps-in-configuring-kiosk-mode-for-hololens) | Для глобального назначенного доступа требуется [20H2 и более новые сборки](hololens-release-notes.md#windows-holographic-version-20h2) |
| Каждый пользователь, вошедший в систему, получает опыт работы в киоске, за исключением некоторых пользователей. | [Настройте несколько глобальных назначенных профилей доступа приложения, исключив определенных пользователей (которые должны быть владельцами устройств)](hololens-kiosk-reference.md#multiple-app-global-assigned-access-profile-excluding-device-owners). | • [Microsoft Intune настраиваемый шаблон](hololens-kiosk.md?tabs=intunecustom#steps-in-configuring-kiosk-mode-for-hololens) <br> • [Подготовка среды выполнения — множественное приложение](hololens-kiosk.md?tabs=ppkgmak#steps-in-configuring-kiosk-mode-for-hololens) | Для глобального назначенного доступа требуется [20H2 и более новые сборки](hololens-release-notes.md#windows-holographic-version-20h2) |
| Каждый пользователь AAD получает отдельные специальные возможности для этого пользователя. | [Настройте назначенную конфигурацию доступа для каждого пользователя, который задает имя учетной записи AAD.](hololens-kiosk-reference.md#multiple-app-assigned-access-profiles-for-two-aad-users-or-more) | • [Microsoft Intune настраиваемый шаблон](hololens-kiosk.md?tabs=intunecustom#steps-in-configuring-kiosk-mode-for-hololens) <br> • [Подготовка среды выполнения — множественное приложение](hololens-kiosk.md?tabs=ppkgmak#steps-in-configuring-kiosk-mode-for-hololens) | &nbsp; |
| Пользователи в разных группах AAD в полноэкранном режиме, предназначенном только для группы. | [Настройте назначенную конфигурацию доступа для каждой нужной группы AAD.](hololens-kiosk-reference.md#multiple-app-assigned-access-profile-for-two-aad-groups-or-more) | • [Microsoft Intune настраиваемый шаблон](hololens-kiosk.md?tabs=intunecustom#steps-in-configuring-kiosk-mode-for-hololens) <br> • [Подготовка среды выполнения — множественное приложение](hololens-kiosk.md?tabs=ppkgmak#steps-in-configuring-kiosk-mode-for-hololens) | • когда пользователь входит в систему и HoloLens подключается к интернету, если этот пользователь находится в группе aad, для которой существует конфигурация киоска, пользователь получает доступ к киоску для этой группы aad. <br> • [если при входе пользователя в интернет нет доступа к интернету, пользователь будет работать HoloLens режиме сбоя.](#issue---no-apps-are-shown-in-start-menu-in-kiosk-mode) <br> • Если доступ к Интернету не гарантируется, когда необходимо использовать вход пользователя и киоск на основе группы AAD, [рассмотрите возможность использования аадграупмембершипкачевалидитиндайсполици](hololens-release-notes.md#cache-azure-ad-group-membership-for-offline-kiosk). <br> • Для обеспечения оптимального опыта работы с группами AAD во время входа рекомендуется использовать [аадграупмембершипкачевалидитиндайсполици](/hololens/hololens-release-notes#cache-azure-ad-group-membership-for-offline-kiosk) |
| пользователи, которым необходимо использовать HoloLens для временных целей, получают опыт работы в режиме киоска. | [Настройка назначенной конфигурации доступа для посетителей](hololens-kiosk-reference.md#multiple-app-assigned-access-profile-for-visitors) | • [Microsoft Intune настраиваемый шаблон](hololens-kiosk.md?tabs=intunecustom#steps-in-configuring-kiosk-mode-for-hololens) <br> • [Подготовка среды выполнения — одно приложение](hololens-kiosk.md?tabs=ppkgsak#steps-in-configuring-kiosk-mode-for-hololens) | • временная учетная запись пользователя создается автоматически HoloLens при входе и удаляется при выходе из временного пользователя. <br> • Рассмотрите возможность включения [политики автоматического входа посетителя](#how-can-visitor-accounts-automatically-logon-to-kiosk-experience). |

## <a name="steps-in-configuring-kiosk-mode-for-hololens"></a>Действия по настройке режима киоска для HoloLens

Конфигурации киоска можно создавать и применять следующим образом.

1. С помощью пользовательского интерфейса сервера MDM, например, шаблоны киоска Intune или пользовательские конфигурации OMA-URI, которые затем применяются удаленно к HoloLens.
2. С пакетами подготовки среды выполнения, которые затем напрямую применяются к HoloLens.

Чтобы настроить, выберите вкладку, соответствующую процессу, который вы хотите использовать.

1. [шаблон киоска для одного приложения Microsoft Intune](hololens-kiosk.md?tabs=uisak#steps-in-configuring-kiosk-mode-for-hololens)
2. [шаблон Microsoft Intune нескольких приложений киоска](hololens-kiosk.md?tabs=uimak#steps-in-configuring-kiosk-mode-for-hololens)
1. [Microsoft Intune настраиваемый шаблон](hololens-kiosk.md?tabs=intunecustom#steps-in-configuring-kiosk-mode-for-hololens)
1. [Подготовка среды выполнения — множественное приложение](hololens-kiosk.md?tabs=ppkgmak#steps-in-configuring-kiosk-mode-for-hololens)
1. [Подготовка среды выполнения — одно приложение](hololens-kiosk.md?tabs=ppkgsak#steps-in-configuring-kiosk-mode-for-hololens)

[!INCLUDE[](includes/kiosk-configure-steps.md)]

## <a name="frequently-asked-questions"></a>Вопросы и ответы

### <a name="how-can-visitor-accounts-automatically-logon-to-kiosk-experience"></a>Как можно автоматически войти в киоск с учетными записями посетителей?

в сборках [Windows holographic, version 21H1](hololens-release-notes.md#windows-holographic-version-21h1) и далее:

- В AAD и других конфигурациях поддерживается автоматический вход пользователей в режим киоска.

[!INCLUDE[](includes/kiosk-autologin.md)]

### <a name="is-kiosk-experience-supported-on-hololens-1st-gen"></a>поддерживается ли киоск на HoloLens (1-й номер)?

Режим киоска доступен только в том случае, если устройство имеет Windows Holographic for Business. все устройства HoloLens 2 поставляются с Windows Holographic for Business, а другие выпуски отсутствуют. каждое устройство HoloLens 2 может запустить полноэкранный режим.

HoloLens (1 gen) устройства должны быть обновлены с точки зрения сборки ос и выпуска ос. ниже приведены дополнительные сведения об обновлении HoloLens (1-го поколения) до [Windows Holographic for Business](hololens1-upgrade-enterprise.md) edition. чтобы обновить устройство HoloLens (1-го поколения) для использования режима киоска, сначала необходимо убедиться, что устройство работает Windows 10, версии 1803 или более поздней версии. если вы использовали средство восстановления Windows устройства для восстановления HoloLens (1-го поколения) на сборку по умолчанию или если установлены последние обновления, устройство готово к настройке.

### <a name="how-to-use-device-portal-to-configure-kiosk-in-non-production-environments"></a>Как использовать портал устройств для настройки киоска в нерабочих средах?

настройте [устройство HoloLens для использования портала Windows устройств](/windows/mixed-reality/using-the-windows-device-portal#setting-up-hololens-to-use-windows-device-portal). Портал устройств — это веб-сервер на вашем устройстве HoloLens, к которому можно подключаться из веб-браузера на ПК.

 > [!CAUTION]
 > при настройке HoloLens для использования портала устройств необходимо включить режим разработчика на устройстве. режим разработчика на устройстве с Windows Holographic for Business позволяет загружать приложения. Однако этот параметр создает риск того, что пользователь может устанавливать приложения, которые не были сертифицированы Microsoft Store. Администраторы могут заблокировать возможность включения режима разработчика с помощью параметра **аппликатионманажемент/Алловдевелопер Unlock** в [CSP политики](/windows/client-management/mdm/policy-configuration-service-provider). [Подробнее о режиме разработчика.](/windows/uwp/get-started/enable-your-device-for-development#developer-mode)

Режим киоска можно задать с помощью REST API на портале устройств, выполнив POST в/АПИ/холографик/киоскмоде/Сеттингс с одним обязательным параметром строки запроса ("Киоскмодинаблед" со значением "true" или "false") и одним необязательным параметром ("Стартупапп" со значением имени пакета). Помните, что портал устройств предназначен только для разработчиков и не должен включаться на устройствах, не являющихся разработчиками. REST API может измениться в будущих обновлениях и выпусках.

## <a name="troubleshooting"></a>Устранение неполадок

### <a name="issue---no-apps-are-shown-in-start-menu-in-kiosk-mode"></a>Ошибка — приложения не отображаются в меню "Пуск" в режиме киоска

**Симптомы**

При возникновении сбоев при применении режима киоска появляется следующее поведение:

- до Windows holographic, версия 20H2-HoloLens покажет все приложения в меню.
- Windows Holographic, версия 20H2. Если устройство имеет конфигурацию киоска, которая является сочетанием глобальных назначенных прав доступа и назначенного члена группы AAD, при неудачном определении членства в группе AAD пользователь увидит меню "ничего не отображается в начале".

    ![Изображение режима киоска, который теперь выглядит в случае сбоя.](images/hololens-kiosk-failure-behavior.png )

- начиная с [Windows holographic, version 21H1](hololens-release-notes.md#windows-holographic-version-21h1), полноэкранный режим ищет глобальный назначенный доступ перед отображением пустого меню "пуск". Работа киоска будет восстановлена в глобальной конфигурации киоска (при наличии) в случае сбоев в режиме киоска группы AAD.

**Действия по устранению неполадок**

- Убедитесь, что AUMID приложения указано правильно и не содержит версий. примеры см. в [HoloLens аумидс](hololens-kiosk-reference.md#hololens-application-user-model-ids-aumids) для входящих приложений.
- Убедитесь, что приложение установлено на устройстве для этого пользователя.
- Если конфигурация киоска основана на группах AAD, убедитесь в наличии подключения к Интернету при входе пользователя AAD. Если нужно настроить политику [микседреалити/аадграупмембершипкачевалидитиндайс](/windows/client-management/mdm/policy-csp-mixedreality#mixedreality-aadgroupmembershipcachevalidityindays) , чтобы эта функция также могла работать без Интернета.

### <a name="issue---building-a-package-with-kiosk-mode-failed"></a>Ошибка. сбой при создании пакета в режиме киоска

**Симптомы**

Отображается диалоговое окно, как показано ниже.

<kbd>
    <img alt="Kiosk failure to build" src="./images/kiosk-steps/kiosk-ppkg-failure.png"/>
</kbd>

**Действия по устранению неполадок**

1. Щелкните ссылку Hyper-Link, как показано в диалоговом окне выше.
1. Откройте ICD. log в текстовом редакторе, и его содержимое должно указывать на ошибку.

> [!NOTE]
> Если вы сделали несколько попыток, проверьте отметки времени в журнале. Это позволит проверить только текущие проблемы.

### <a name="issue--provisioning-package-built-successfully-but-failed-to-apply"></a>Причина: подготовка пакета завершена успешно, но не удалось применить.

**Симптомы**

При применении пакета подготовки в Hololens отображается сообщение об ошибке

**Действия по устранению неполадок**

1. перейдите в папку, где находится проект конструктора конфигураций Windows для пакета подготовки среды выполнения.
1. Откройте ICD. log и убедитесь, что в журнале нет ошибок при сборке пакета подготовки. Некоторые ошибки не отображаются во время сборки, но по-прежнему регистрируются в ICD. log

### <a name="issue--multiple-app-assigned-access-to-aad-group-does-not-work"></a>Причина: множественный доступ к группе AAD, назначенный приложению, не работает

**Симптомы**

При входе пользователя AAD устройство не переходит в полноэкранный режим.

**Действия по устранению неполадок**

- Подтвердите использование XML-файла конфигурации доступа, в котором используется идентификатор GUID группы AAD, в которую входит вошедший пользователь, а не идентификатор GUID пользователя AAD.
- Убедитесь, что на портале Intune пользователь AAD действительно отображается как член Целевой группы AAD.
